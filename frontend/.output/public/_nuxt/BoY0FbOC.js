import{_ as x}from"./5GdojX42.js";import{p as y,u as f,q as h,s as b,v as k,c as t,o as e,a as n,t as c,x as r,F as v,y as w,b as B,w as C,d as N}from"./Bf3esXos.js";import{u as L}from"./PI7g9iV3.js";const R={class:"space-y-3"},V={class:"text-xl font-semibold"},$={key:0,class:"text-sm text-gray-500"},q={key:1,class:"text-sm text-red-500"},A={key:2,class:"grid gap-3 grid-cols-2 md:grid-cols-4"},D={class:"mt-1 font-semibold"},j=y({__name:"[slug]",async setup(F){let s,i;const _=f(),a=h(()=>_.params.slug),{data:u,pending:m,error:p}=([s,i]=b(()=>L(()=>`category-${a.value}`,()=>$fetch("/api/catalog/products",{baseURL:k().public.apiBaseUrl,query:{category:a.value}}),{watch:[a]})),s=await s,i(),s);return(U,d)=>{var l;const g=x;return e(),t("section",R,[n("h1",V,"Категория: "+c(r(a)),1),d[0]||(d[0]=n("p",{class:"text-sm text-gray-600"},"Список товаров — пока заглушка с backend.",-1)),r(m)?(e(),t("div",$,"Загрузка товаров…")):r(p)?(e(),t("div",q,"Ошибка загрузки товаров")):(e(),t("div",A,[(e(!0),t(v,null,w((l=r(u))==null?void 0:l.products,o=>(e(),t("article",{key:o.id,class:"rounded-lg border border-gray-200 bg-white p-3 text-sm"},[B(g,{to:`/product/${o.id}`,class:"font-medium text-gray-900 hover:text-brand"},{default:C(()=>[N(c(o.name),1)]),_:2},1032,["to"]),n("p",D,c(o.price)+" ₽",1)]))),128))]))])}}});export{j as default};
