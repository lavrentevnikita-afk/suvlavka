## 1. Публичная часть (доступно всем, в т.ч. гостям)

### 1.1. Главная

* `/` — главная страница

  * блок «Каталог» (ссылка на `/catalog`)
  * блок «Для магазинов» (ссылка на `/b2b`)
  * промо/баннеры
  * категории/подборки товаров

---

### 1.2. Каталог и поиск

* `/catalog` — корневая страница каталога

  * список основных категорий
  * промо-баннеры
  * быстрые фильтры (чипы: «новинки», «хиты», «в наличии»)

* `/catalog/:categorySlug` — страница категории первого уровня
  пример: `/catalog/suveniry`

  * фильтры (цена, наличие, характеристики)
  * сортировка
  * список товаров (плитка/список)

* `/catalog/:categorySlug/:subCategorySlug` — подкатегория
  пример: `/catalog/suveniry/kruzhki`

* `/product/:productId` — карточка товара
  пример: `/product/12345`

  * галерея изображений (локальные картинки)
  * описание, характеристики
  * цена (розничная или оптовая в зависимости от роли)
  * наличие / статус «под заказ»
  * отзывы (позже)
  * блоки: «Похожие», «С этим покупают» (позже)

* `/search` — страница результатов поиска

  * параметр `q` в query: `/search?q=кружка`
  * фильтры и сортировка как в каталоге

---

### 1.3. Корзина и оформление заказа

* `/cart` — корзина (общая для гостя и авторизованных)

  * список товаров
  * изменение количества
  * итоговая сумма
  * кнопка «Оформить заказ»

* `/checkout` — оформление заказа

  * форма контактов и доставки
  * выбор способа оплаты (позже)
  * итог заказа

* `/order/thank-you/:orderId` — страница «спасибо за заказ»

  * резюме заказа
  * дальнейшие инструкции

---

### 1.4. Служебные страницы

* `/offline` — страница PWA-офлайна
* `/404` — не найдено
* `/500` — внутренняя ошибка (может быть кастомный error layout)
* `/legal/privacy` — политика конфиденциальности
* `/legal/terms` — пользовательское соглашение / оферта

---

## 2. Авторизация и профиль

### 2.1. Auth

* `/auth/login` — вход

  * email/пароль
  * ссылка на регистрацию + восстановление

* `/auth/register` — регистрация розничного покупателя

* `/auth/register-store` — заявка на регистрацию магазина (B2B)

* `/auth/forgot-password` — восстановление

* `/auth/reset-password/:token` — ссылка из письма

---

### 2.2. Общий профиль (база для Retail и Store)

* `/account` *(только авторизованные)*
  дэшборд пользователя (простой, общий):

  * приветствие
  * краткая инфа по последним заказам
  * ссылки:

    * «Мои заказы»
    * «Профиль»
    * «Адреса»
    * «Настройки»

* `/account/profile` — профиль пользователя

* `/account/addresses` — адреса доставки

* `/account/settings` — настройки уведомлений и т.п. (позже)

---

## 3. Личный кабинет розничного покупателя (Retail)

(всё на `/account/...`, просто часть разделов показывается только роли Retail)

* `/account/orders` — список заказов розничного покупателя

  * разделение по статусам
  * кнопки «Повторить заказ»

* `/account/orders/:orderId` — детализация заказа

* `/account/favorites` — избранные товары (список)

* `/account/loyalty` — программа лояльности (баллы, статус) — **позже**

---

## 4. Кабинет магазина (B2B, роль Store)

Тут мы делаем акцент на функциональность, но по-прежнему **один домен**.

### 4.1. Общий дэшборд B2B

* `/b2b` *(роль Store)* — главная B2B

  * карточки:

    * «Быстрый заказ»
    * «Мои заказы»
    * «Шаблоны заказов»
    * «Отчёты магазина»

* `/b2b/profile` — профиль магазина

  * реквизиты юрлица
  * контактные лица
  * условия (ценовая группа, отсрочка и т.п. — позже)

---

### 4.2. Каталог для магазина (те же URL, другой контент)

Магазины используют те же URL, что и обычные покупатели, но:

* `/catalog`, `/catalog/...`, `/product/:id`
  → **те же страницы**, только:

  * показываются оптовые/индивидуальные цены;
  * могут быть B2B-специфичные блоки (минимальные партии, упаковки).

---

### 4.3. Быстрый заказ

* `/b2b/quick-order` *(роль Store)*

  * табличный интерфейс:

    * артикул, название, цена, остаток, поле «кол-во»
  * зона вставки списка `артикул;кол-во` из Excel

* `/b2b/quick-order/templates` — шаблоны заказов

  * список сохранённых шаблонов
  * создание/редактирование шаблона

* `/b2b/quick-order/templates/:templateId` — редактирование шаблона

---

### 4.4. Заказы магазина

* `/b2b/orders` — список B2B-заказов

  * фильтры: период, статус, сумма
  * кнопка «Повторить заказ»

* `/b2b/orders/:orderId` — детали заказа

  * статус, состав, суммы, комментарии менеджера
  * кнопка «Скачать счёт» (позже)

---

### 4.5. Отчёты для магазина (позже, но место заложим)

* `/b2b/reports` — обзор

  * продажи по периодам
  * топ-товары
* `/b2b/reports/sales` — продажи по датам
* `/b2b/reports/products` — отчёты по товарам

---

## 5. Интерфейс менеджера (роль Manager)

Живёт на том же домене, но под своим префиксом. Может быть отдельный layout типа `/manager/...`.

### 5.1. Дэшборд менеджера

* `/manager` *(роль Manager)* — главная страница менеджера

  * сводка по:

    * новым заказам,
    * заказам в работе,
    * срочным задачам.

---

### 5.2. Работа с заказами

* `/manager/orders` — список всех заказов

  * фильтры: статус, тип клиента (розница/магазин), период, менеджер
  * вид:

    * таблица + возможно представление «канбан» (по статусам)

* `/manager/orders/board` — канбан-доска заказов по статусам

* `/manager/orders/:orderId` — страница заказа:

  * детали заказа
  * таймлайн событий (лог)
  * смена статуса
  * внутренние комментарии
  * действия: сформировать задачу в производство, назначить отгрузку

---

### 5.3. Производство и склад (с точки зрения менеджера)

* `/manager/production/tasks` — список задач в производство

* `/manager/production/tasks/:taskId` — детализация задачи

* `/manager/warehouse` — обзор складов и остатков

* `/manager/warehouse/movements` — движения товара

* `/manager/warehouse/movements/new` — создание движения (приход/расход/резерв)

---

## 6. Админка (роль Admin)

Админ использует и менеджерский интерфейс, и отдельные страницы настройки системы.

### 6.1. Дэшборд админа

* `/admin` *(роль Admin)* — общий обзор:

  * ключевые метрики (за период)
  * быстрые ссылки в настройки

---

### 6.2. Управление пользователями и ролями

* `/admin/users` — список пользователей

* `/admin/users/:userId` — профиль пользователя + назначение ролей

* `/admin/stores` — список магазинов (B2B)

* `/admin/stores/:storeId` — профиль магазина, реквизиты, условия

---

### 6.3. Управление каталогом

* `/admin/catalog` — обзор каталога

* `/admin/catalog/categories` — категории (дерево)

* `/admin/catalog/categories/:id` — редактирование категории

* `/admin/catalog/products` — список товаров

* `/admin/catalog/products/new` — создание товара

* `/admin/catalog/products/:id` — карточка товара:

  * основной контент
  * цены:

    * розничная
    * оптовые уровни
    * индивидуальные цены (позже)
  * загрузка изображений (локально в `uploads/`)

* `/admin/catalog/import` — импорт товаров/цен (CSV/Excel)

* `/admin/catalog/images` — управление медиа (в будущем)

---

### 6.4. Склад и производство (админский взгляд)

* `/admin/warehouse/settings` — создание/редактирование складов

* `/admin/warehouse/inventory` — настройки инвентаризаций

* `/admin/production/settings` — правила работы производства (по желанию)

---

### 6.5. Настройки системы

* `/admin/settings/general` — общие настройки:

  * название проекта
  * логотип
  * PWA-метаданные (название, цвета, иконки)

* `/admin/settings/pricing` — глобальные правила ценообразования

* `/admin/settings/notifications` — настройка email/sms/push-шаблонов

* `/admin/settings/integrations` — интеграции (оплаты, доставки, учётка) — **позже**

---

### 6.6. Аналитика и отчёты

* `/admin/reports` — обзор отчетов
* `/admin/reports/sales` — продажи по периодам
* `/admin/reports/products` — топ/«мёртвые» товары
* `/admin/reports/customers` — отчёты по клиентам (B2C/B2B)
* `/admin/reports/warehouse` — отчёты по складам и остаткам

---

## 7. Системные / технические разделы (для нас, не для пользователей)

Эти URL могут быть скрытыми/только для нас и CI, но логически они есть:

* `/health` *(backend)* — health-check (у NestJS уже есть, фронт может иметь свою health-страницу)
* `/api/docs` — Swagger/OpenAPI (только для внутренних пользователей)
* `/storybook` — Storybook для компонентов фронтенда (обычно на отдельном порту/сабдомене, но логически — часть проекта)

---

## 8. Как это «читается» в терминах ролей

* **Гость (Guest)**:

  * `/`, `/catalog[...]`, `/product[...]`, `/cart`, `/checkout` (частично), `/auth/...`, `/legal/...`.
* **Розница (Retail)**:

  * всё, что у гостя +
  * `/account[...]`, `/account/orders[...]`, `/account/favorites`.
* **Магазин (Store)**:

  * всё, что у гостя +
  * `/account[...]` (часть общая),
  * `/b2b[...]`,
  * в тех же `/catalog` и `/product` — другие цены и B2B-функциональность.
* **Менеджер (Manager)**:

  * всё, что у гостя +
  * `/manager[...]`.
* **Админ (Admin)**:

  * всё выше +
  * `/admin[...]`.